[project]
name = 'dengrow-contracts'
description = 'DenGrow smart contracts - Upgradeable Architecture'
authors = []
telemetry = true
cache_dir = './.cache'

[[project.requirements]]
contract_id = 'SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9.nft-trait'

[[project.requirements]]
contract_id = 'SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE.sip-010-trait-ft-standard'

# ============================================================================
# UPGRADEABLE ARCHITECTURE CONTRACTS
# ============================================================================
# Deployment order matters! Storage must be deployed first.

# 1. Storage Layer (IMMUTABLE - never redeploy)
[contracts.plant-storage]
path = 'contracts/plant-storage.clar'
clarity_version = 2
epoch = 2.5

# 2. Logic Layer (VERSIONABLE - deploy new versions as needed)
[contracts.plant-game-v1]
path = 'contracts/plant-game-v1.clar'
clarity_version = 2
epoch = 2.5

# 3. NFT Contract (calls storage and game-v1)
[contracts.plant-nft]
path = 'contracts/plant-nft.clar'
clarity_version = 2
epoch = 2.5

# 4. Impact Registry (tracks graduated trees and redemptions)
[contracts.impact-registry]
path = 'contracts/impact-registry.clar'
clarity_version = 2
epoch = 2.5

# 5. Achievement Badges (soulbound, claim-by-evidence)
[contracts.achievement-badges]
path = 'contracts/achievement-badges.clar'
clarity_version = 2
epoch = 2.5

# ============================================================================
# LEGACY CONTRACT (for backward compatibility with existing tests)
# ============================================================================
[contracts.plant-game]
path = 'contracts/plant-game.clar'
clarity_version = 2
epoch = 2.5

[repl.analysis]
passes = []

[repl.analysis.check_checker]
strict = false
trusted_sender = true
trusted_caller = false
callee_filter = false
